<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ú–æ–π –ø–∏—Ç–æ–º–µ—Ü –†–æ—Å–∫–∏</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      text-align: center;
      background-color: #ffebcd;
      margin: 0;
      padding: 20px;
    }
    #game-container {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
      background-color: white;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
    }
    #pet {
      font-size: 100px;
      cursor: pointer;
      user-select: none;
      transition: transform 0.3s, filter 0.3s;
    }
    #pet:hover {
      filter: brightness(90%);
    }
    .stats {
      display: flex;
      justify-content: space-around;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    .stat-item {
      background-color: #fff8dc;
      padding: 12px;
      border-radius: 8px;
      min-width: 140px;
      margin: 5px;
      text-align: center;
    }
    .stat-label {
      font-weight: bold;
      color: #8b4513;
    }
    .stat-value {
      font-size: 18px;
      margin-top: 4px;
    }
    #shop, #medical {
      margin: 20px 0;
      text-align: left;
    }
    .item-box {
      padding: 12px;
      margin: 8px 0;
      background-color: #ffe4b5;
      border-radius: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    button {
      padding: 8px 12px;
      font-size: 14px;
      background-color: #ff6347;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background-color: #e0553d;
    }
    .disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
    .emotion {
      font-size: 24px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <div id="game-container">
    <h1>–†–æ—Å–∫–∏ üêï</h1>
    
    <div id="pet">üêï</div>
    <div class="emotion" id="emotion">üòä</div>

    <div class="stats">
      <div class="stat-item">
        <div class="stat-label">–ú–æ–Ω–µ—Ç—ã</div>
        <div class="stat-value" id="coins">100‚ÄØ000</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">–°—ã—Ç–æ—Å—Ç—å</div>
        <div class="stat-value" id="fullness">50/100</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</div>
        <div class="stat-value" id="mood">75/100</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">–ó–¥–æ—Ä–æ–≤—å–µ</div>
        <div class="stat-value" id="health">90/100</div>
      </div>
    </div>

    <div id="shop">
      <h3>–ú–∞–≥–∞–∑–∏–Ω –µ–¥—ã:</h3>
      <div class="item-box">
        <span>üçñ –ú—è—Å–æ (100 –º–æ–Ω–µ—Ç) +20 —Å—ã—Ç–æ—Å—Ç–∏</span>
        <button onclick="buyFood(100, 20)">–ö—É–ø–∏—Ç—å</button>
      </div>
      <div class="item-box">
        <span>ü•© –°—Ç–µ–π–∫ (500 –º–æ–Ω–µ—Ç) +50 —Å—ã—Ç–æ—Å—Ç–∏</span>
        <button onclick="buyFood(500, 50)">–ö—É–ø–∏—Ç—å</button>
      </div>
      <div class="item-box">
        <span>üéÇ –¢–æ—Ä—Ç (1‚ÄØ000 –º–æ–Ω–µ—Ç) +80 —Å—ã—Ç–æ—Å—Ç–∏, +10 –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è</span>
        <button onclick="buyFood(1000, 80, 10)">–ö—É–ø–∏—Ç—å</button>
      </div>
    </div>

    <div id="medical">
      <h3>–ê–ø—Ç–µ–∫–∞:</h3>
      <div class="item-box">
        <span>üíä –¢–∞–±–ª–µ—Ç–∫–∏ (300 –º–æ–Ω–µ—Ç) +20 –∑–¥–æ—Ä–æ–≤—å—è</span>
        <button onclick="buyMedicine(300, 20)">–ö—É–ø–∏—Ç—å</button>
      </div>
      <div class="item-box">
        <span>ü©π –ü–ª–∞—Å—Ç—ã—Ä—å (200 –º–æ–Ω–µ—Ç) +15 –∑–¥–æ—Ä–æ–≤—å—è, +10 –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è</span>
        <button onclick="buyMedicine(200, 15, 10)">–ö—É–ø–∏—Ç—å</button>
      </div>
      <div class="item-box">
        <span>üè• –õ–µ—á–µ–Ω–∏–µ —É –≤—Ä–∞—á–∞ (1‚ÄØ500 –º–æ–Ω–µ—Ç) +50 –∑–¥–æ—Ä–æ–≤—å—è, +30 –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è</span>
        <button onclick="buyMedicine(1500, 50, 30)">–ö—É–ø–∏—Ç—å</button>
      </div>
    </div>

    <div style="margin: 20px 0;">
      <button onclick="feedPet()">–ü–æ–∫–æ—Ä–º–∏—Ç—å</button>
      <button onclick="playWithPet()">–ü–æ–∏–≥—Ä–∞—Ç—å</button>
      <button onclick="resetGame()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
    </div>
  </div>

  <script>
    // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    const petEl = document.getElementById('pet');
    const emotionEl = document.getElementById('emotion');
    const coinsEl = document.getElementById('coins');
    const fullnessEl = document.getElementById('fullness');
    const moodEl = document.getElementById('mood');
    const healthEl = document.getElementById('health');

    // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    let gameData = {
      coins: 100000,
      fullness: 50,
      mood: 75,
      health: 90
    };

    // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ localStorage –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
    function loadGame() {
      const saved = localStorage.getItem('petGame');
      if (saved) {
        gameData = JSON.parse(saved);
      }
      updateUI();
    }

    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
    function saveGame() {
      localStorage.setItem('petGame', JSON.stringify(gameData));
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    function updateUI() {
      coinsEl.textContent = gameData.coins.toLocaleString('ru-RU');
      fullnessEl.textContent = `${gameData.fullness}/100`;
      moodEl.textContent = `${gameData.mood}/100`;
      healthEl.textContent = `${gameData.health}/100`;

      updatePetEmoji();
      updateEmotion();
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –ø–∏—Ç–æ–º—Ü–∞
    function updatePetEmoji() {
      if (gameData.health < 30) {
        petEl.textContent = 'üò∑';
      } else if (gameData.fullness < 20) {
        petEl.textContent = 'üòñ';
      } else if (gameData.mood < 30) {
        petEl.textContent = 'üò¢';
      } else if (gameData.fullness >= 80 && gameData.mood >= 80) {
        petEl.textContent = 'üêï‚Äçü¶∫';
      } else {
        petEl.textContent = 'üêï';
      }
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º —ç–º–æ—Ü–∏—é –Ω–∞–¥ –ø–∏—Ç–æ–º—Ü–µ–º
    function updateEmotion() {
      if (gameData.health < 20) {
        emotionEl.textContent = 'ü§í';
      } else if (gameData.mood < 20) {
        emotionEl.textContent = 'üò≠';
      } else if (gameData.fullness < 20) {
        emotionEl.textContent = 'üò´';
      } else if (gameData.health >= 80 && gameData.mood >= 80 && gameData.fullness >= 80) {
        emotionEl.textContent = 'üòç';
      } else if (gameData.health >= 60 && gameData.mood >= 60 && gameData.fullness >= 60) {
        emotionEl.textContent = 'üòä';
      } else {
        emotionEl.textContent = 'üôÇ';
      }
    }

    // –ü–æ–∫—É–ø–∫–∞ –µ–¥—ã
    function buyFood(price, fullnessValue, moodValue = 0) {
      if (gameData.coins < price) {
        alert('–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –º–æ–Ω–µ—Ç!');
        return;
      }

      gameData.coins -= price;
      gameData.fullness = Math.min(100, gameData.fullness + fullnessValue);
      gameData.mood = Math.min(100, gameData.mood + moodValue);

      updateUI();
      saveGame();
      showActionAnimation();
    }

    // –ü–æ–∫—É–ø–∫–∞ –ª–µ–∫–∞—Ä—Å—Ç–≤
    function buyMedicine(price, healthValue, moodValue = 0) {
      if (gameData.coins < price) {
        alert('–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –º–æ–Ω–µ—Ç!');
        return;
      }

      gameData.coins -= price;
      gameData.health = Math.min(100, gameData.health + healthValue);
      gameData.mood = Math.min(100, gameData.mood + moodValue);

      updateUI();
      saveGame();
      showActionAnimation();
    }

    // –ü–æ–∫–æ—Ä–º–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞
    function feedPet() {
      if (gameData.fullness >= 100) {
        alert('–ü–∏—Ç–æ–º–µ—Ü —É–∂–µ —Å—ã—Ç!');
        return;
      }

      gameData.fullness = Math.min(100, gameData.fullness + 15);
      gameData.mood = Math.min(100, gameData.mood + 5);

      updateUI();
      saveGame();
      showActionAnimation();
    }

    // –ü–æ–∏–≥—Ä–∞—Ç—å —Å –ø–∏—Ç–æ–º—Ü–µ–º
    function playWithPet() {
      if (gameData.health < 40) {
        alert('–ü–∏—Ç–æ–º–µ—Ü —Å–ª–∏—à–∫–æ–º –±–æ–ª–µ–Ω –¥–ª—è –∏–≥—Ä!');
        return;
      }

      gameData.mood = Math.min(100, gameData.mood + 20);
      gameData.health = Math.max(0, gameData.health - 5); // –Ω–µ–±–æ–ª—å—à–∞—è —É—Å—Ç–∞–ª–æ—Å—Ç—å

      updateUI();
      saveGame();
      showActionAnimation('üéâ');
    }

    // –ê–Ω–∏–º–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—è
    function showActionAnimation(emoji = '‚ú®') {
      const animEl = document.createElement('div');
      animEl.style.position = 'absolute';
      animEl.style.top = '50%';
      animEl.style.left = '50%';
      animEl.style.transform = 'translate(-50%, -50%)';
      animEl.style.fontSize = '40px';
      animEl.style.pointerEvents = 'none';
      animEl.style.zIndex = '1000';
      animEl.style.color = '#ff69b4';
      animEl.textContent = emoji;
      document.body.appendChild(animEl);

      setTimeout(() => {
        animEl.remove();
      }, 1000);
    }

    // –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
    function resetGame() {
      gameData.coins = 100000;
      gameData.fullness = 50;
      gameData.mood = 75;
      gameData.health = 90;

      updateUI();
      saveGame();
    }

    // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ —É—Ö—É–¥—à–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–∏–º–∏—Ç–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏)
    setInterval(() => {
      gameData.fullness = Math.max(0, gameData.fullness - 1);
      gameData.mood = Math.max(0, gameData.mood - 0.5);
      
      // –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —É—Ö—É–¥—à–µ–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è (–±–æ–ª–µ–∑–Ω—å)
      if (Math.random() < 0.05 && gameData.health > 0) {
        gameData.health = Math.max(0, gameData.health - 2);
      }
      
      updateUI();
      saveGame();
    }, 30000); // –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    loadGame();
  </script>
</body>
</html>
